{% extends 'base.html' %}
{% load static %}
{% block head %}
    <link rel="stylesheet" href="/static/css/community/post_list.css">
{% endblock %}
{% block content %}
    <div class="community-header">
        <div class="community-categoty">ì´ë²¤íŠ¸</div>
        <div class="community-categoty">ì±„íŒ…ë°©</div>
        <div class="community-categoty">ì»¤ë®¤ë‹ˆí‹°</div>
    </div>
    <div class="community-title-box">
        ììœ ê²Œì‹œíŒ
    </div>
    <div class="community-top-box">
        <div id="community-top-notice">
            ğŸ“£ê³µì§€ ë° ê·œì¹™
        </div>
        {% if request.user.is_authenticated %}
            <a href="{% url 'community_user:post_create' %}" id="community-top-btn">ê¸€ì“°ê¸°</a>
        {% endif %}
    </div>
    
    <div class="community-post-container">
        {% if posts %}
        {% for post in posts %}
        <div class="community-post-box">
            <div class="community-post-box-left">
                <div class="community-post-box-title">
                    <h2>ì œëª©</h2>
                    <h2 class="community-title">{{ post.title }}</h2>
                </div>
                <div class="community-post-box-author">
                    <h2>ì‘ì„±ì</h2>
                    <h2>{{post.author}}</h2>
                </div>
                <div class="community-post-box-like">
                    <a href="{% url 'community_user:like_post' post.id %}">Like</a>
                    <p>{{ post.total_likes }}</p>
                    <a href="{% url 'community_user:bookmark_post' post.id %}">
                        {% if request.user in post.bookmarks.all %}
                            <img src="/static/img/full-bookmark.svg" alt="ë¶ë§ˆí¬ ì•„ì´ì½˜" class="bookmark-icon">
                        {% else %}
                            <img src="/static/img/bookmark.svg" alt="ë¹„ì–´ìˆëŠ” ë¶ë§ˆí¬ ì•„ì´ì½˜" class="bookmark-icon">
                        {% endif %}
                    </a>
                    <p>{{ post.total_bookmarks }}</p>
                </div>
            </div>
            <div class="community-post-box-right">
                <div class="community-post-box-content">
                    <h2>ë³¸ë¬¸</h2>
                    <p class="community-content">{{ post.content }}</p>
                </div>
                <div class="community-post-box-comment">
                    <h2>ëŒ“ê¸€</h2>
                    <!-- ì²«ë²ˆì§¸ ëŒ“ê¸€ -->
                     <h2>(ëŒ“ê¸€ë‚´ìš©)</h2>
                </div>
            
            <div class="community-post-box-ud">
            {% if request.user == post.author %}
                <a href="{% url 'community_user:post_update' post.id %}">Edit</a>
                <a href="{% url 'community_user:post_delete' post.id %}">Delete</a>
            {% endif %}
            </div>
            </div>
        </div>
        {% endfor %} 
        
    {% else %}
        <p>No posts available.</p>
    {% endif %}

    </div>
{% endblock %}
{% block script %}

{% endblock %}