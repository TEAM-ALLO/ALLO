{% extends 'base.html' %}
{% load static %}

{% block content %}
<h2>레시피 수정</h2>
<form method="post" enctype="multipart/form-data" id="recipe-form">
    {% csrf_token %}
    {{ form.recipe_name.label_tag }} {{ form.recipe_name }}
    {{ form.cooking_time.label_tag }} {{ form.cooking_time }}
    {{ form.servings.label_tag }} {{ form.servings }}
    {{ form.difficulty.label_tag }} {{ form.difficulty }}
    {{ form.image.label_tag }} {{ form.image }}

    <div id="ingredients-container">
        <h3>재료</h3>
        {% for ingredient in initial_ingredients %}
            <div class="ingredient-item">
                <input type="text" name="ingredients[]" value="{{ ingredient }}" required>
                <button type="button" class="remove-ingredient">삭제</button>
            </div>
        {% endfor %}
    </div>
    <button type="button" id="add-ingredient">재료 추가</button>

    <div id="instructions-container">
        <h3>조리 방법</h3>
        {% for instruction in initial_instructions %}
            <div class="instruction-item">
                <textarea name="instructions[]" required>{{ instruction }}</textarea>
                <button type="button" class="remove-instruction">삭제</button>
            </div>
        {% endfor %}
    </div>
    <button type="button" id="add-instruction">조리 방법 추가</button>

    <button type="submit">수정</button>
</form>

{% endblock %}

{% block script %}
<script src="{% static 'js/recipe/recipe_form.js' %}"></script>
{% endblock %}