{% extends 'base.html' %}
{% block content %}
<div class="interior-header">
    <h1>인테리어 게시물 목록</h1>
</div>
<div class="interior-list">
    {% for post in posts %}
    <div class="interior-post post">
        <h2><a href="{% url 'interior_user:interior_detail' post.pk %}">{{ post.title }}</a></h2>
        <img src="{{ post.image.url }}" alt="{{ post.title }}">
        <p>{{ post.author }} - {{ post.created_at }}</p>
        <p>{{ post.content|truncatewords:30 }}</p>
        <div class="post-actions">
            <form method="post" action="{% url 'interior_user:like_interior' post.pk %}">
                {% csrf_token %}
                <button type="submit">
                    {% if user in post.likes.all %}
                    Unlike
                    {% else %}
                    Like
                    {% endif %}
                </button>
            </form>
            <form method="post" action="{% url 'interior_user:bookmark_interior' post.pk %}">
                {% csrf_token %}
                <button type="submit">
                    {% if user in post.bookmarks.all %}
                    Remove Bookmark
                    {% else %}
                    Bookmark
                    {% endif %}
                </button>
            </form>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
